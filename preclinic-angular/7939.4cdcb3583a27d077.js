"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7939],{7939:($,u,o)=>{o.r(u),o.d(u,{AdminDashboardModule:()=>G});var h=o(6895),_=o(27),Z=o(6382),t=o(4650),f=o(7945),x=o(5117),A=o(6205),b=o(4385),T=o(3238),m=o(6308),g=o(433);const q=["chart"];function O(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_d,"%")}}function U(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_d,"%")}}function y(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dp,"%")}}function w(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dp,"%")}}function j(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_da,"%")}}function C(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_da,"%")}}function D(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dt,"%")}}function J(a,i){if(1&a&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dt,"%")}}function Q(a,i){if(1&a&&(t.TgZ(0,"div",3)(1,"div",17)(2,"div",18)(3,"div",19),t._UZ(4,"img",20),t.qZA(),t.TgZ(5,"div",21)(6,"h3"),t._uU(7,"Citas"),t.qZA(),t.TgZ(8,"h2")(9,"span",22),t._uU(10),t.TgZ(11,"small"),t._uU(12),t.qZA()()(),t.YNc(13,O,5,1,"p",23),t.YNc(14,U,5,1,"p",23),t.qZA()()(),t.TgZ(15,"div",17)(16,"div",18)(17,"div",19),t._UZ(18,"img",24),t.qZA(),t.TgZ(19,"div",21)(20,"h4"),t._uU(21,"Pacientes Nuevos"),t.qZA(),t.TgZ(22,"h2")(23,"span",22),t._uU(24),t.TgZ(25,"small"),t._uU(26),t.qZA()()(),t.YNc(27,y,5,1,"p",23),t.YNc(28,w,5,1,"p",23),t.qZA()()(),t.TgZ(29,"div",17)(30,"div",18)(31,"div",19),t._UZ(32,"img",25),t.qZA(),t.TgZ(33,"div",21)(34,"h4"),t._uU(35,"Atenciones"),t.qZA(),t.TgZ(36,"h2")(37,"span",22),t._uU(38),t.TgZ(39,"small"),t._uU(40),t.qZA()()(),t.YNc(41,j,5,1,"p",23),t.YNc(42,C,5,1,"p",23),t.qZA()()(),t.TgZ(43,"div",17)(44,"div",18)(45,"div",19),t._UZ(46,"img",26),t.qZA(),t.TgZ(47,"div",21)(48,"h4"),t._uU(49,"Ingresos"),t.qZA(),t.TgZ(50,"h2"),t._uU(51,"$"),t.TgZ(52,"span",22),t._uU(53),t.TgZ(54,"small"),t._uU(55),t.qZA()()(),t.YNc(56,D,5,1,"p",23),t.YNc(57,J,5,1,"p",23),t.qZA()()()()),2&a){const e=t.oxw();t.xp6(10),t.hij("",e.num_appointments_current,"/ "),t.xp6(2),t.Oqu(e.num_appointments_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_d>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_d<0),t.xp6(10),t.hij("",e.num_patients_current,"/ "),t.xp6(2),t.Oqu(e.num_patients_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dp>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dp<0),t.xp6(10),t.hij("",e.num_appointments_attetion_current,"/ "),t.xp6(2),t.Oqu(e.num_appointments_attetion_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_da>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_da<0),t.xp6(11),t.hij(" ",e.appointments_total_current,"/ "),t.xp6(2),t.Oqu(e.appointments_total_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dt>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dt<0)}}const Y=function(a,i){return{"status-pink":a,"status-green":i}},I=function(a,i){return{"status-green":a,"status-pink":i}},L=function(a){return["/appointment-m/list/edit/",a]};function N(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",62),t._uU(9),t.qZA()(),t.TgZ(10,"td")(11,"button",62),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",63)(16,"div",64)(17,"a",65),t._UZ(18,"i",66),t.qZA(),t.TgZ(19,"div",67)(20,"a",68),t._UZ(21,"i",69),t._uU(22," Edit"),t.qZA()()()()()),2&a){const e=i.$implicit;t.xp6(2),t.hij("",e.date_appointment_format," "),t.xp6(2),t.Oqu(e.doctor.full_name),t.xp6(2),t.Oqu(e.patient.full_name),t.xp6(2),t.Q6J("ngClass",t.WLB(9,Y,1===e.status,2===e.status)),t.xp6(1),t.Oqu(1==e.status?"PENDIENTE":"ATENDIDO"),t.xp6(2),t.Q6J("ngClass",t.WLB(12,I,1===e.status_pay,2===e.status_pay)),t.xp6(1),t.Oqu(1==e.status_pay?"PAGADO":"DEUDA"),t.xp6(2),t.hij("$ ",e.amount,""),t.xp6(6),t.Q6J("routerLink",t.VKq(15,L,e.id))}}function E(a,i){if(1&a&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function F(a,i){if(1&a&&(t.TgZ(0,"div",71),t._UZ(1,"apx-chart",72),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("series",e.chartOptionsOneTwo.series)("chart",e.chartOptionsOneTwo.chart)("xaxis",e.chartOptionsOneTwo.xaxis)("dataLabels",e.chartOptionsOneTwo.dataLabels)("grid",e.chartOptionsOneTwo.grid)("stroke",e.chartOptionsOneTwo.stroke)("title",e.chartOptionsOneTwo.title)("markers",e.chartOptionsOneTwo.markers)("yaxis",e.chartOptionsOneTwo.yaxis)("fill",e.chartOptionsOneTwo.fill)}}function M(a,i){if(1&a&&(t.TgZ(0,"div",73)(1,"div",74),t._UZ(2,"img",75),t.qZA(),t.TgZ(3,"div",76)(4,"h4"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()()),2&a){const e=i.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(2),t.hij("",e.percentage,"%")}}function P(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",31)(2,"div",32)(3,"div",33)(4,"h4",34),t._uU(5,"Citas "),t.qZA()(),t.TgZ(6,"div",35)(7,"div",36)(8,"table",37)(9,"thead")(10,"tr")(11,"th",38),t._uU(12,"Fecha"),t.qZA(),t.TgZ(13,"th",39),t._uU(14,"Doctor"),t.qZA(),t.TgZ(15,"th",40),t._uU(16,"Paciente"),t.qZA(),t.TgZ(17,"th",41),t._uU(18,"Atenci\xf3n"),t.qZA(),t.TgZ(19,"th",42),t._uU(20,"Pago"),t.qZA(),t.TgZ(21,"th",43),t._uU(22,"Costo ($)"),t.qZA(),t._UZ(23,"th"),t.qZA()(),t.TgZ(24,"tbody"),t.YNc(25,N,23,17,"tr",44),t.qZA()()()()(),t.TgZ(26,"div",32)(27,"div",45)(28,"div",46)(29,"h4"),t._uU(30,"Visita Pacientes por G\xe9nero"),t.qZA(),t.TgZ(31,"div"),t._UZ(32,"ul",47),t.qZA(),t.TgZ(33,"div",48)(34,"mat-select",49),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedValue=s)})("selectionChange",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.selectedYear())}),t.YNc(35,E,2,2,"mat-option",50),t.qZA()()(),t.TgZ(36,"div",51),t._UZ(37,"apx-chart",52),t.qZA(),t.TgZ(38,"h4"),t._uU(39,"Ingresos"),t.qZA(),t.YNc(40,F,2,10,"div",53),t.qZA()()(),t.TgZ(41,"div",54)(42,"div",55)(43,"div",33)(44,"h4",56),t._uU(45,"Top Especialidades"),t.qZA()(),t.TgZ(46,"div",45),t.YNc(47,M,8,2,"div",57),t.qZA()(),t.TgZ(48,"div",32)(49,"div",45)(50,"div",58)(51,"h4"),t._uU(52,"Pacientes por Especialidad"),t.qZA()(),t.TgZ(53,"div",59),t._UZ(54,"apx-chart",60)(55,"img",61),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(25),t.Q6J("ngForOf",e.appointments),t.xp6(9),t.Q6J("ngModel",e.selectedValue),t.xp6(1),t.Q6J("ngForOf",e.selecedList),t.xp6(2),t.Q6J("series",e.chartOptionsOne.series)("chart",e.chartOptionsOne.chart)("dataLabels",e.chartOptionsOne.dataLabels)("plotOptions",e.chartOptionsOne.plotOptions)("responsive",e.chartOptionsOne.responsive)("xaxis",e.chartOptionsOne.xaxis)("legend",e.chartOptionsOne.legend)("fill",e.chartOptionsOne.fill)("grid",e.chartOptionsOne.grid)("xaxis",e.chartOptionsOne.xaxis),t.xp6(3),t.Q6J("ngIf",e.query_income_year),t.xp6(7),t.Q6J("ngForOf",e.query_patients_speciality_percentage),t.xp6(7),t.Q6J("series",e.chartOptionsTwo.series)("chart",e.chartOptionsTwo.chart)("labels",e.chartOptionsTwo.labels)("responsive",e.chartOptionsTwo.responsive)("dataLabels",e.chartOptionsTwo.dataLabels)("legend",e.chartOptionsTwo.legend)}}function S(a,i){1&a&&(t.TgZ(0,"div",3),t._UZ(1,"div",77)(2,"div",78),t.qZA())}const k=[{path:"",component:(()=>{class a{constructor(e,n){this.data=e,this.dashboardService=n,this.routes=Z._,this.selectedValue="2024",this.recentPatients=[],this.upcomingAppointments=[],this.appointments=[],this.num_appointments_current=0,this.num_appointments_before=0,this.porcentaje_d=0,this.num_patients_current=0,this.num_patients_before=0,this.porcentaje_dp=0,this.num_appointments_attetion_current=0,this.num_appointments_attetion_before=0,this.porcentaje_da=0,this.appointments_total_current=0,this.appointments_total_before=0,this.porcentaje_dt=0,this.query_patient_by_genders=[],this.query_patients_speciality=[],this.query_patients_speciality_percentage=[],this.query_income_year=[],this.selecedList=[{value:"2023"},{value:"2024"},{value:"2025"},{value:"2026"}],this.chartOptionsOne={chart:{height:230,type:"bar",stacked:!0,toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"15%"}},dataLabels:{enabled:!1},series:[{name:"Male",color:"#2E37A4",data:[]},{name:"Female",color:"#00D3C7",data:[]}],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1}}},this.chartOptionsTwo={series:[],labels:[],chart:{type:"donut",height:200,width:200,toolbar:{show:!1}},legend:{show:!1},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}]},this.chartOptionsOneTwo={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[{name:"Ingresos",color:"#2E37A4",data:[]}],xaxis:{categories:[]}},this.recentPatients=this.data.recentPatients,this.upcomingAppointments=this.data.upcomingAppointments}ngOnInit(){this.user=this.dashboardService.authService.user,(this.user.roles.includes("Super-Admin")||this.user.permissions.includes("admin_dashboard"))&&(this.dashboardService.dashboardAdmin({}).subscribe(e=>{console.log(e),this.appointments=e.appointments.data,this.num_appointments_current=e.num_appointments_current,this.num_appointments_before=e.num_appointments_before,this.porcentaje_d=e.porcentaje_d,this.num_patients_current=e.num_patients_current,this.num_patients_before=e.num_patients_before,this.porcentaje_dp=e.porcentaje_dp,this.num_appointments_attetion_current=e.num_appointments_attetion_current,this.num_appointments_attetion_before=e.num_appointments_attetion_before,this.porcentaje_da=e.porcentaje_da,this.appointments_total_current=e.num_appointments_total_current,this.appointments_total_before=e.num_appointments_total_before,this.porcentaje_dt=e.porcentaje_dt}),this.dashboardAdminYear())}dashboardAdminYear(){let e={year:this.selectedValue};this.query_income_year=null,this.dashboardService.dashboardAdminYear(e).subscribe(n=>{console.log(n),this.query_patient_by_genders=n.query_patient_by_genders;let s=[],r=[];this.query_patient_by_genders.forEach(c=>{s.push(c.hombre),r.push(c.mujer)}),this.chartOptionsOne.series=[{name:"Masculino",color:"#2E37A4",data:s},{name:"Femenino",color:"#00D3C7",data:r}],this.query_patients_speciality=n.query_patients_speciality;let d=[],p=[];this.query_patients_speciality.forEach(c=>{d.push(c.name),p.push(c.count)}),this.chartOptionsTwo.labels=d,this.chartOptionsTwo.series=p,this.query_patients_speciality_percentage=n.query_patients_speciality_percentage,this.query_income_year=n.query_income_year;let v=[];this.query_income_year.forEach(c=>{v.push(c.income)}),this.chartOptionsOneTwo={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[{name:"Ingresos",color:"#2E37A4",data:v}],xaxis:{categories:n.months_name}}})}sortData(e){const n=this.recentPatients.slice(),s=this.upcomingAppointments.slice();e.active&&""!==e.direction?(this.recentPatients=n.sort((r,l)=>(r[e.active]<l[e.active]?-1:1)*("asc"===e.direction?1:-1)),this.upcomingAppointments=s.sort((r,l)=>(r[e.active]<l[e.active]?-1:1)*("asc"===e.direction?1:-1))):(this.recentPatients=n,this.upcomingAppointments=s)}selectedYear(){console.log(this.selectedValue),this.dashboardAdminYear()}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(f.D),t.Y36(x.s))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-admin-dashboard"]],viewQuery:function(n,s){if(1&n&&t.Gf(q,5),2&n){let r;t.iGM(r=t.CRH())&&(s.chart=r.first)}},decls:27,vars:5,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"good-morning-blk"],[1,"col-md-6"],[1,"morning-user"],[1,"col-md-6","position-blk"],[1,"morning-img"],["src","assets/img/morning-img-01.png","alt",""],["class","row",4,"ngIf"],[1,"col-md-6","col-sm-6","col-lg-6","col-xl-3"],[1,"dash-widget"],[1,"dash-boxs","comman-flex-center"],["src","assets/img/icons/calendar.svg","alt",""],[1,"dash-content","dash-count"],[1,"counter-up"],[4,"ngIf"],["src","assets/img/icons/profile-add.svg","alt",""],["src","assets/img/icons/scissor.svg","alt",""],["src","assets/img/icons/empty-wallet.svg","alt",""],[1,"passive-view"],[1,"feather","icon-arrow-up-right","me-1"],[1,"negative-view"],[1,"feather","icon-arrow-down-right","me-1"],[1,"col-12","col-md-12","col-xl-9"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","p-0","table-dash"],[1,"table-responsive"],["matSort","",1,"table","mb-0","border-0","datatable","custom-table","patient-profile-table"],["mat-sort-header","date"],["mat-sort-header","doctor"],["mat-sort-header","paciente"],["mat-sort-header","status"],["mat-sort-header","status_pay"],["mat-sort-header","charges"],[4,"ngFor","ngForOf"],[1,"card-body"],[1,"chart-title","patient-visit"],[1,"nav","chat-user-total"],[1,"form-group","mb-0"],["placeholder","2022",1,"form-control","select",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","patient-chart"],[3,"series","chart","dataLabels","plotOptions","responsive","xaxis","legend","fill","grid"],["id","apexcharts-area",4,"ngIf"],[1,"col-12","col-md-12","col-xl-3"],[1,"card","top-departments"],[1,"card-title","mb-0"],["class","activity-top",4,"ngFor","ngForOf"],[1,"chart-title"],["id","donut-chart-dash",1,"chart-user-icon"],[1,"donut-chart-custom",3,"series","chart","labels","responsive","dataLabels","legend"],["src","assets/img/icons/user-icon.svg","alt",""],[1,"custom-badge",3,"ngClass"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],[3,"value"],["id","apexcharts-area"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title","markers","yaxis","fill"],[1,"activity-top"],[1,"activity-boxs","comman-flex-center"],["src","assets/img/icons/dep-icon-01.svg","alt",""],[1,"departments-list"],[1,"col-12","col-md-12","col-lg-6","col-xl-9"],[1,"col-12","col-md-12","col-lg-6","col-xl-3","d-flex"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8,"Dashboard "),t.qZA()(),t.TgZ(9,"li",6),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",9),t._uU(12,"Dashboard Administrador"),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"div",3)(15,"div",11)(16,"div",12)(17,"h2"),t._uU(18,"Bienvenido "),t.TgZ(19,"span"),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",13)(22,"div",14),t._UZ(23,"img",15),t.qZA()()()(),t.YNc(24,Q,58,16,"div",16),t.YNc(25,P,56,21,"div",16),t.YNc(26,S,3,0,"div",16),t.qZA()()),2&n&&(t.xp6(7),t.Q6J("routerLink",s.routes.adminDashboard),t.xp6(13),t.Oqu(s.user.name+" "+s.user.surname),t.xp6(4),t.Q6J("ngIf",s.user.roles.includes("Super-Admin")||s.user.permissions.includes("admin_dashboard")),t.xp6(1),t.Q6J("ngIf",s.user.roles.includes("Super-Admin")||s.user.permissions.includes("admin_dashboard")),t.xp6(1),t.Q6J("ngIf",s.user.roles.includes("Super-Admin")||s.user.permissions.includes("admin_dashboard")))},dependencies:[h.mk,h.sg,h.O5,_.rH,A.x,b.gD,T.ey,m.YE,m.nU,g.JJ,g.On],styles:[".donut-chart-custom[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return a})()}];let V=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(k),_.Bz]})}return a})();var B=o(9079);let G=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[h.ez,V,B.m]})}return a})()}}]);