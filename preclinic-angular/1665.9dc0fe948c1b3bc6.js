"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[1665],{1665:(B,h,i)=>{i.r(h),i.d(h,{DoctorDashboardModule:()=>R});var c=i(6895),d=i(27),f=i(6382),t=i(4650),b=i(5117),Z=i(7466),v=i(2320),x=i(6205),T=i(4385),y=i(3238),_=i(6308),u=i(433);const D=["chart"];function O(o,s){if(1&o&&(t.TgZ(0,"mat-option",56),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.full_name," ")}}function A(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",53)(1,"mat-select",54),t.NdJ("ngModelChange",function(n){t.CHM(e);const p=t.oxw();return t.KtG(p.doctor_id=n)})("selectionChange",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.selectionDoctor())}),t.YNc(2,O,2,2,"mat-option",55),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.doctor_id),t.xp6(1),t.Q6J("ngForOf",e.doctors)}}function q(o,s){if(1&o&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("+",e.porcentaje_d,"%")}}function U(o,s){if(1&o&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.porcentaje_d,"%")}}function w(o,s){if(1&o&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("+",e.porcentaje_da,"%")}}function j(o,s){if(1&o&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.porcentaje_da,"%")}}function C(o,s){if(1&o&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("+",e.porcentaje_dt,"%")}}function J(o,s){if(1&o&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.porcentaje_dt,"%")}}function I(o,s){if(1&o&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("+",e.porcentaje_dtp,"%")}}function L(o,s){if(1&o&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",e.porcentaje_dtp,"%")}}const Q=function(o,s){return{"status-pink":o,"status-green":s}},k=function(o,s){return{"status-green":o,"status-pink":s}},E=function(o){return["/appointment-m/list/edit/",o]};function Y(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",59),t._uU(7),t.qZA()(),t.TgZ(8,"td")(9,"button",59),t._uU(10),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",60)(14,"div",61)(15,"a",62),t._UZ(16,"i",63),t.qZA(),t.TgZ(17,"div",64)(18,"a",65),t._UZ(19,"i",66),t._uU(20,"Editar"),t.qZA()()()()()),2&o){const e=s.$implicit;t.xp6(2),t.hij("",e.date_appointment_format," "),t.xp6(2),t.Oqu(e.patient.full_name),t.xp6(2),t.Q6J("ngClass",t.WLB(8,Q,1===e.status,2===e.status)),t.xp6(1),t.Oqu(1===e.status?"PENDIENTE":"ATENDIDO"),t.xp6(2),t.Q6J("ngClass",t.WLB(11,k,1===e.status_pay,2===e.status_pay)),t.xp6(1),t.Oqu(1===e.status_pay?"PAGADO":"DEUDA"),t.xp6(2),t.hij("$",e.amount,""),t.xp6(6),t.Q6J("routerLink",t.VKq(14,E,e.id))}}function M(o,s){if(1&o&&(t.TgZ(0,"div",67),t._UZ(1,"apx-chart",68),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptionsOne.series)("chart",e.chartOptionsOne.chart)("xaxis",e.chartOptionsOne.xaxis)("dataLabels",e.chartOptionsOne.dataLabels)("grid",e.chartOptionsOne.grid)("stroke",e.chartOptionsOne.stroke)("title",e.chartOptionsOne.title)("markers",e.chartOptionsOne.markers)("yaxis",e.chartOptionsOne.yaxis)("fill",e.chartOptionsOne.fill)}}function N(o,s){if(1&o&&(t.TgZ(0,"div",69),t._UZ(1,"apx-chart",70),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("series",e.chartOptionsThree.series)("chart",e.chartOptionsThree.chart)("dataLabels",e.chartOptionsThree.dataLabels)("plotOptions",e.chartOptionsThree.plotOptions)("yaxis",e.chartOptionsThree.yaxis)("legend",e.chartOptionsThree.legend)("fill",e.chartOptionsThree.fill)("stroke",e.chartOptionsThree.stroke)("tooltip",e.chartOptionsThree.tooltip)("xaxis",e.chartOptionsThree.xaxis)("grid",e.chartOptionsThree.grid)("xaxis",e.chartOptionsThree.xaxis)("yaxis",e.chartOptionsThree.yaxis)}}const F=[{path:"",component:(()=>{class o{constructor(e,a){this.serviceDasboard=e,this.appointmentService=a,this.routes=f._,this.selectedValue="2024",this.doctors=[],this.selecedList=[{value:"2023"},{value:"2024"},{value:"2025"},{value:"2026"}],this.selecedLists=[{value:"Esta Semana"},{value:"Semana Pasada"},{value:"Este Mes"},{value:"Mes Pasado"}],this.appointments=[],this.num_appointments_current=0,this.num_appointments_before=0,this.porcentaje_d=0,this.num_appointments_attetion_current=0,this.num_appointments_attetion_before=0,this.porcentaje_da=0,this.num_appointments_total_pay_current=0,this.num_appointments_total_pay_before=0,this.porcentaje_dt=0,this.num_appointments_total_pending_current=0,this.num_appointments_total_pending_before=0,this.porcentaje_dtp=0,this.query_income_year=null,this.query_n_appointment_year=null,this.query_n_appointment_year_before=null,this.chartOptionsOne={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[],xaxis:{categories:[]}},this.chartOptionsTwo={chart:{height:250,width:330,type:"donut",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},dataLabels:{enabled:!1},series:[],labels:["Hombre","Mujer"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}],legend:{position:"bottom"}},this.chartOptionsThree={chart:{height:230,type:"bar",stacked:!1,toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:6,colors:["transparent"]},series:[{name:"Low",color:"#D5D7ED",data:[20,30,41,67,22,43,40,10,30,20,40]},{name:"High",color:"#2E37A4",data:[13,23,20,8,13,27,30,25,10,15,20]}],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}}ngOnInit(){this.serviceDasboard.getConfigdashboard().subscribe(e=>{console.log(e),this.doctors=e.doctors}),this.user=this.appointmentService.authService.user,console.log("this user"+this.user.mobile),this.doctor_id=this.user.id,this.selectionDoctor()}isPermited(){let e=!1;return this.user.roles.forEach(a=>{-1!=a.toUpperCase().indexOf("DOCTOR")&&(e=!0)}),e}dashboardDoctor(){const e={doctor_id:this.doctor_id};this.query_income_year=null,this.query_n_appointment_year=null,this.query_n_appointment_year_before=null,console.log("ID DEL DOCTOR PARA VERIFICAR: "+this.doctor_id),this.serviceDasboard.dashboardDoctor(e).subscribe(a=>{console.log(a),this.appointments=a.apointments.data,this.num_appointments_current=a.num_appointments_current,this.num_appointments_before=a.num_appointments_before,this.porcentaje_d=a.porcentaje_d,this.num_appointments_attetion_current=a.num_appointments_attetion_current,this.num_appointments_attetion_before=a.num_appointments_attetion_before,this.porcentaje_da=a.porcentaje_da,this.num_appointments_total_pay_current=a.num_appointments_total_pay_current,this.num_appointments_total_pay_before=a.num_appointments_total_pay_before,this.porcentaje_dt=a.porcentaje_dt,this.num_appointments_total_pending_current=a.num_appointments_total_pending_current,this.num_appointments_total_pending_before=a.num_appointments_total_pending_before,this.porcentaje_dtp=a.porcentaje_dtp})}dashboardDoctorYear(){this.serviceDasboard.dashboardDoctorYear({year:this.selectedValue,doctor_id:this.doctor_id}).subscribe(a=>{console.log(a),this.query_income_year=a.query_income_year;const n=[];this.query_income_year.forEach(r=>{n.push(r.income)}),this.chartOptionsOne={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[{name:"Ingresos",color:"#2E37A4",data:n}],xaxis:{categories:a.months_name}};const l=[];a.query_patient_by_genders.forEach(r=>{l.push(parseInt(r.hombre)),l.push(parseInt(r.mujer))}),this.chartOptionsTwo.series=l,this.query_n_appointment_year=a.query_n_appointment_year,this.query_n_appointment_year_before=a.query_n_appointment_year_before;const m=[];this.query_n_appointment_year.forEach(r=>{m.push(r.count_appointments)});const g=[];this.query_n_appointment_year_before.forEach(r=>{g.push(r.count_appointments)}),this.chartOptionsThree={chart:{height:230,type:"bar",stacked:!1,toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:6,colors:["transparent"]},series:[{name:parseInt(this.selectedValue)+"",color:"#2E37A4",data:m},{name:parseInt(this.selectedValue)-1+"",color:"#D5D7ED",data:g}],xaxis:{categories:a.months_name}}})}selectionDoctor(){this.dashboardDoctor(),this.dashboardDoctorYear()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(b.s),t.Y36(Z.H))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-doctor-dashboard"]],viewQuery:function(a,n){if(1&a&&t.Gf(D,5),2&a){let p;t.iGM(p=t.CRH())&&(n.chart=p.first)}},decls:132,vars:29,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"good-morning-blk"],[1,"col-md-6","d-flex","align-items-center"],["style","width: 50%;",4,"ngIf"],[1,"morning-user"],[1,"col-md-6","position-blk"],[1,"morning-img"],["src","assets/img/morning-img-02.png","alt",""],[1,"doctor-list-blk"],[1,"col-xl-3","col-md-6"],[1,"doctor-widget","border-right-bg"],[1,"doctor-box-icon","flex-shrink-0"],["src","assets/img/icons/doctor-dash-01.svg","alt",""],[1,"doctor-content","dash-count","flex-grow-1"],[1,"counter-up"],["class","status-green",4,"ngIf"],["class","status-pink",4,"ngIf"],["src","assets/img/icons/doctor-dash-03.svg","alt",""],[1,"doctor-widget"],["src","assets/img/icons/doctor-dash-04.svg","alt",""],[1,"col-12","col-lg-12","col-xl-8","d-flex"],[1,"card","flex-fill","comman-shadow"],[1,"card-header"],[1,"card-title","d-inline-block"],[1,"patient-views","float-end",3,"routerLink"],[1,"card-body"],[1,"table-responsive"],["matSort","",1,"table","mb-0","border-0","datatable","custom-table","patient-profile-table"],["mat-sort-header","date"],["mat-sort-header","patient"],["mat-sort-header","status"],["mat-sort-header","status_pay"],["mat-sort-header","charges"],[4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-lg-6","col-xl-4","d-flex"],[1,"card"],[1,"donut-chart-radial",3,"series","chart","labels","responsive","dataLabels","legend"],[1,"col-12","col-md-12","col-lg-12","col-xl-8"],[1,"chart-title","patient-visit","mb-0"],[1,"income-value"],["id","apexcharts-area",4,"ngIf"],[1,"col-12","col-md-12","col-xl-8"],[1,"chart-title","patient-visit"],["id","activity-chart",4,"ngIf"],[2,"width","50%"],["placeholder","Seleccione Doctor",1,"form-control","select",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"status-green"],[1,"status-pink"],[1,"custom-badge",3,"ngClass"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["id","apexcharts-area"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title","markers","yaxis","fill"],["id","activity-chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","legend","fill","stroke","tooltip","xaxis","grid"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8,"Dashboard "),t.qZA()(),t.TgZ(9,"li",6),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",9),t._uU(12,"Doctor Dashboard"),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"div",3)(15,"div",11),t.YNc(16,A,3,2,"div",12),t.TgZ(17,"div",13)(18,"h2"),t._uU(19,"Bienvenido "),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"div",14)(23,"div",15),t._UZ(24,"img",16),t.qZA()()()(),t.TgZ(25,"div",17)(26,"div",3)(27,"div",18)(28,"div",19)(29,"div",20),t._UZ(30,"img",21),t.qZA(),t.TgZ(31,"div",22)(32,"h4")(33,"span",23),t._uU(34),t.qZA(),t.TgZ(35,"span"),t._uU(36),t.qZA(),t.YNc(37,q,2,1,"span",24),t.YNc(38,U,2,1,"span",25),t.qZA(),t.TgZ(39,"h5"),t._uU(40,"Citas"),t.qZA()()()(),t.TgZ(41,"div",18)(42,"div",19)(43,"div",20),t._UZ(44,"img",26),t.qZA(),t.TgZ(45,"div",22)(46,"h4")(47,"span",23),t._uU(48),t.qZA(),t.TgZ(49,"span"),t._uU(50),t.qZA(),t.YNc(51,w,2,1,"span",24),t.YNc(52,j,2,1,"span",25),t.qZA(),t.TgZ(53,"h5"),t._uU(54,"Atenciones"),t.qZA()()()(),t.TgZ(55,"div",18)(56,"div",27)(57,"div",20),t._UZ(58,"img",28),t.qZA(),t.TgZ(59,"div",22)(60,"h4"),t._uU(61,"$"),t.TgZ(62,"span",23),t._uU(63),t.qZA(),t.TgZ(64,"span"),t._uU(65),t.qZA(),t.YNc(66,C,2,1,"span",24),t.YNc(67,J,2,1,"span",25),t.qZA(),t.TgZ(68,"h5"),t._uU(69,"Ingresos Pagados"),t.qZA()()()(),t.TgZ(70,"div",18)(71,"div",27)(72,"div",20),t._UZ(73,"img",28),t.qZA(),t.TgZ(74,"div",22)(75,"h4"),t._uU(76,"$"),t.TgZ(77,"span",23),t._uU(78),t.qZA(),t.TgZ(79,"span"),t._uU(80),t.qZA(),t.YNc(81,I,2,1,"span",24),t.YNc(82,L,2,1,"span",25),t.qZA(),t.TgZ(83,"h5"),t._uU(84,"Ingresos Pendientes"),t.qZA()()()()()(),t.TgZ(85,"div",3)(86,"div",29)(87,"div",30)(88,"div",31)(89,"h4",32),t._uU(90,"Citas Recientes"),t.qZA(),t.TgZ(91,"a",33),t._uU(92,"Show all"),t.qZA()(),t.TgZ(93,"div",34)(94,"div",35)(95,"table",36)(96,"thead")(97,"tr")(98,"th",37),t._uU(99,"Fecha"),t.qZA(),t.TgZ(100,"th",38),t._uU(101,"Paciente"),t.qZA(),t.TgZ(102,"th",39),t._uU(103,"Atenci\xf3n"),t.qZA(),t.TgZ(104,"th",40),t._uU(105,"Pago"),t.qZA(),t.TgZ(106,"th",41),t._uU(107,"Costo ($)"),t.qZA(),t._UZ(108,"th"),t.qZA()(),t.TgZ(109,"tbody"),t.YNc(110,Y,21,16,"tr",42),t.qZA()()()()()(),t.TgZ(111,"div",43)(112,"div",44)(113,"div",34),t._UZ(114,"apx-chart",45),t.qZA()()()(),t.TgZ(115,"div",3)(116,"div",46)(117,"div",44)(118,"div",34)(119,"div",47)(120,"h4"),t._uU(121,"Ingresos"),t.qZA(),t._UZ(122,"div",48),t.qZA(),t.YNc(123,M,2,10,"div",49),t.qZA()()()(),t.TgZ(124,"div",3)(125,"div",50)(126,"div",44)(127,"div",34)(128,"div",51)(129,"h4"),t._uU(130,"Citas por A\xf1o"),t.qZA()(),t.YNc(131,N,2,13,"div",52),t.qZA()()()()()()),2&a&&(t.xp6(7),t.Q6J("routerLink",n.routes.adminDashboard),t.xp6(9),t.Q6J("ngIf",!n.isPermited()),t.xp6(5),t.Oqu(n.user.name+" "+n.user.surname),t.xp6(13),t.Oqu(n.num_appointments_current),t.xp6(2),t.hij("/",n.num_appointments_before,""),t.xp6(1),t.Q6J("ngIf",n.porcentaje_d>=0),t.xp6(1),t.Q6J("ngIf",n.porcentaje_d<0),t.xp6(10),t.Oqu(n.num_appointments_attetion_current),t.xp6(2),t.hij("/",n.num_appointments_attetion_before,""),t.xp6(1),t.Q6J("ngIf",n.porcentaje_da>=0),t.xp6(1),t.Q6J("ngIf",n.porcentaje_da<0),t.xp6(11),t.Oqu(n.num_appointments_total_pay_current),t.xp6(2),t.hij("/",n.num_appointments_total_pay_before,""),t.xp6(1),t.Q6J("ngIf",n.porcentaje_dt>=0),t.xp6(1),t.Q6J("ngIf",n.porcentaje_dt<0),t.xp6(11),t.Oqu(n.num_appointments_total_pending_current),t.xp6(2),t.hij("/",n.num_appointments_total_pending_before,""),t.xp6(1),t.Q6J("ngIf",n.porcentaje_dtp>=0),t.xp6(1),t.Q6J("ngIf",n.porcentaje_dtp<0),t.xp6(9),t.Q6J("routerLink",n.routes.appointmentList),t.xp6(19),t.Q6J("ngForOf",n.appointments),t.xp6(4),t.Q6J("series",n.chartOptionsTwo.series)("chart",n.chartOptionsTwo.chart)("labels",n.chartOptionsTwo.labels)("responsive",n.chartOptionsTwo.responsive)("dataLabels",n.chartOptionsTwo.dataLabels)("legend",n.chartOptionsTwo.legend),t.xp6(9),t.Q6J("ngIf",n.query_income_year),t.xp6(8),t.Q6J("ngIf",n.query_n_appointment_year&&n.query_n_appointment_year_before))},dependencies:[c.mk,c.sg,c.O5,d.rH,v.i9,x.x,T.gD,y.ey,_.YE,_.nU,u.JJ,u.On],styles:[".donut-chart-radial[_ngcontent-%COMP%]{display:flex;justify-content:center}.circle-bar[_ngcontent-%COMP%]   .circle-bar2[_ngcontent-%COMP%]{justify-content:center}"]})}return o})()}];let P=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(F),d.Bz]})}return o})();var S=i(9079);let R=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[c.ez,P,S.m]})}return o})()}}]);